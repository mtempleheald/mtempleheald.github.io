<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="/favicon.ico" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />

		
		<link href="../../../../_app/immutable/assets/0.GqRAowUm.css" rel="stylesheet">
		<link href="../../../../_app/immutable/assets/2.0064yJqm.css" rel="stylesheet">
		<link rel="modulepreload" href="../../../../_app/immutable/entry/start.CLIxsdvV.js">
		<link rel="modulepreload" href="../../../../_app/immutable/chunks/entry.B0aSSQeQ.js">
		<link rel="modulepreload" href="../../../../_app/immutable/chunks/scheduler.Cp24rM3s.js">
		<link rel="modulepreload" href="../../../../_app/immutable/entry/app.CnbeEuoy.js">
		<link rel="modulepreload" href="../../../../_app/immutable/chunks/index.CkxK-9SL.js">
		<link rel="modulepreload" href="../../../../_app/immutable/nodes/0.8PyStYit.js">
		<link rel="modulepreload" href="../../../../_app/immutable/nodes/2.CXBMA209.js">
		<link rel="modulepreload" href="../../../../_app/immutable/nodes/8.BuLrIsOS.js">
	</head>
	<body>
		<div>   <div class="svelte-1yjh0wm"><header data-svelte-h="svelte-lgw146"><h1 class="svelte-1yjh0wm">Mark Temple-Heald</h1> <h2 class="svelte-1yjh0wm">the right tool for the job</h2></header>  <nav class="svelte-z3ooaf" data-svelte-h="svelte-4jee8c"><ul class="svelte-z3ooaf"><li class="svelte-z3ooaf"><a href="/" class="navAnchor">Home</a></li> <li class="svelte-z3ooaf"><a href="/blog" class="navAnchor">Blog</a></li> <li class="svelte-z3ooaf"><a href="/topic" class="navAnchor">Topic</a></li> <li class="svelte-z3ooaf"><a href="/about" class="navAnchor">About</a></li></ul> </nav> </div> <main class="svelte-1l5lemn"><p data-svelte-h="svelte-1vft9ht">This can be useful for situations where you wish to generate a report for a manually selected set of individuals.<br>
I first used this in conjunction with a tabular form with checkbox in Oracle Application Express.<br>
It simply parses a comma-separated string e.g. \‘23,45,67,999,20483\’ into a \“table\” of values which can be used by an IN statement.<br>
Rather than having to filter on a function which converts a demilited string into a set of rows, the following query can be used directly.<br>
Just remember to add a comment to that effect, this isn’t easy to read at a glance.</p> <h4 data-svelte-h="svelte-ucmevi">Query</h4> <pre class="language-plsql"><!-- HTML_TAG_START --><code class="language-plsql"><span class="token keyword">SELECT</span> SUBSTR <span class="token punctuation">(</span>strCSV<span class="token punctuation">,</span>
               INSTR <span class="token punctuation">(</span>strCSV<span class="token punctuation">,</span> <span class="token string">','</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">LEVEL</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
               INSTR <span class="token punctuation">(</span>strCSV<span class="token punctuation">,</span> <span class="token string">','</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">LEVEL</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">-</span> INSTR <span class="token punctuation">(</span>strCSV<span class="token punctuation">,</span> <span class="token string">','</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">LEVEL</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span>
              <span class="token punctuation">)</span> <span class="token keyword">as</span> fieldname
<span class="token keyword">FROM</span>  <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token string">','</span><span class="token operator">||</span>&amp;<span class="token keyword">STRING</span><span class="token operator">||</span><span class="token string">','</span> strCSV
       <span class="token keyword">FROM</span>   dual<span class="token punctuation">)</span>
<span class="token keyword">CONNECT</span> <span class="token keyword">BY</span> <span class="token keyword">LEVEL</span> <span class="token operator">&lt;=</span> <span class="token keyword">LENGTH</span><span class="token punctuation">(</span>&amp;<span class="token keyword">STRING</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token keyword">LENGTH</span><span class="token punctuation">(</span>REPLACE<span class="token punctuation">(</span>&amp;<span class="token keyword">STRING</span><span class="token punctuation">,</span><span class="token string">','</span><span class="token punctuation">,</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span>
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> fieldname</code><!-- HTML_TAG_END --></pre> <h4 data-svelte-h="svelte-65krwk">An alternative is available in the DBMS_UTILITY package</h4> <pre class="language-plsql"><!-- HTML_TAG_START --><code class="language-plsql"><span class="token keyword">DECLARE</span>
  v_arr dbms_utility<span class="token punctuation">.</span>uncl_array<span class="token punctuation">;</span>
  v_cnt BINARY_INTEGER<span class="token punctuation">;</span>
<span class="token keyword">BEGIN</span>
  dbms_utility<span class="token punctuation">.</span>comma_to_table<span class="token punctuation">(</span><span class="token string">'A,B,C,F,D'</span><span class="token punctuation">,</span>v_cnt<span class="token punctuation">,</span>v_arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">FOR</span> i <span class="token keyword">IN</span> <span class="token number">1</span> <span class="token operator">..</span> v_cnt <span class="token keyword">LOOP</span>
    dbms_output<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span>v_arr<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">END</span> <span class="token keyword">loop</span><span class="token punctuation">;</span>
<span class="token keyword">END</span><span class="token punctuation">;</span></code><!-- HTML_TAG_END --></pre> <h3 data-svelte-h="svelte-imtz75">Use this method to parse initials from a full name (experimental)</h3> <pre class="language-plsql"><!-- HTML_TAG_START --><code class="language-plsql"><span class="token keyword">WITH</span> <span class="token keyword">data</span>
<span class="token keyword">AS</span>   <span class="token punctuation">(</span><span class="token keyword">SELECT</span> fieldname
      <span class="token punctuation">,</span>      order_by
      <span class="token keyword">FROM</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> UPPER<span class="token punctuation">(</span>SUBSTR <span class="token punctuation">(</span>forenames<span class="token punctuation">,</span> INSTR <span class="token punctuation">(</span>forenames<span class="token punctuation">,</span> <span class="token string">' '</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">LEVEL</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token punctuation">)</span><span class="token punctuation">)</span> fieldname
            <span class="token punctuation">,</span>      <span class="token keyword">level</span>                                                               order_by
            <span class="token keyword">FROM</span>  <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token string">' '</span><span class="token operator">||</span>&amp;FNAME<span class="token operator">||</span><span class="token string">' '</span> forenames
                   <span class="token keyword">FROM</span>   dual
                  <span class="token punctuation">)</span>
            <span class="token keyword">CONNECT</span> <span class="token keyword">BY</span> <span class="token keyword">LEVEL</span> <span class="token operator">&lt;=</span> <span class="token keyword">LENGTH</span><span class="token punctuation">(</span>&amp;FNAME<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token keyword">LENGTH</span><span class="token punctuation">(</span>REPLACE<span class="token punctuation">(</span>&amp;FNAME<span class="token punctuation">,</span><span class="token string">' '</span><span class="token punctuation">,</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span>
           <span class="token punctuation">)</span>
      <span class="token punctuation">)</span>
<span class="token keyword">SELECT</span> REGEXP_REPLACE<span class="token punctuation">(</span>REPLACE<span class="token punctuation">(</span>SYS_CONNECT_BY_PATH<span class="token punctuation">(</span>fieldname<span class="token punctuation">,</span><span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">','</span><span class="token punctuation">,</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'( )&#123;1,&#125;'</span><span class="token punctuation">)</span> initials
<span class="token keyword">FROM</span>   <span class="token keyword">data</span>
<span class="token keyword">WHERE</span>  order_by <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token function">MAX</span><span class="token punctuation">(</span>order_by<span class="token punctuation">)</span>
                   <span class="token keyword">FROM</span>   <span class="token keyword">data</span><span class="token punctuation">)</span>
<span class="token keyword">START</span> <span class="token keyword">WITH</span> order_by <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">CONNECT</span> <span class="token keyword">BY</span> <span class="token keyword">PRIOR</span> order_by <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">=</span> order_by</code><!-- HTML_TAG_END --></pre></main>  <footer class="svelte-1g9mmpv" data-svelte-h="svelte-zr9zc5"><p>This is my site, there are many like it but this one is mine.</p> <p>If you don&#39;t like it, you know where the close button is.</p> <a href="https://www.linkedin.com/in/mtempleheald" target="_blank" class="svelte-1g9mmpv">Mark Temple-Heald</a> <a href="https://mtempleheald.github.io" target="_blank" class="svelte-1g9mmpv">Home</a> <a href="https://github.com/mtempleheald" target="_blank" class="svelte-1g9mmpv">GitHub</a> <p>Mindful meanderings manifest more manageable machinations. Manoeuvring murky multifaceted
		modernism means meticulously managing many mistakes, misconceptions, misunderstandings. Measured
		multipronged musings, mechanical movements, may maximise meritorious magnificence.</p> </footer> 
			
			<script>
				{
					__sveltekit_1rsnseo = {
						base: new URL("../../../..", location).pathname.slice(0, -1)
					};

					const element = document.currentScript.parentElement;

					const data = [null,null,null];

					Promise.all([
						import("../../../../_app/immutable/entry/start.CLIxsdvV.js"),
						import("../../../../_app/immutable/entry/app.CnbeEuoy.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 2, 8],
							data,
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
	</body>
</html>
