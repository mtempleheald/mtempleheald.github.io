import{get_store_value as r}from"../../../../svelte/internal/index.mjs.js";import{routes as e,basepath as t}from"../store.js";import o from"../../runtime.config.js";function n(n){const a=r(e),i=r(t),l=a.find((r=>n.match(`^${i}${r.regex}`)));if(!l)throw new Error(`Route could not be found for "${n}".`);const[,s]=n.match(`^(${i})${l.regex}`),p=n.slice(s.length);if(o.queryHandler&&(l.params=o.queryHandler.parse(window.location.search)),l.paramKeys){const r=function(r){const e=[];return r.forEach((r=>{e[r.path.split("/").filter(Boolean).length-1]=r})),e}(l.layouts),e=p.split("/").filter(Boolean);(function(r){return r.split("/").filter(Boolean).map((r=>r.match(/\:(.+)/))).map((r=>r&&r[1]))})(l.path).forEach(((t,o)=>{t&&(l.params[t]=e[o],r[o]?r[o].param={[t]:e[o]}:l.param={[t]:e[o]})}))}return l.leftover=n.replace(new RegExp(s+l.regex),""),l}export{n as urlToRoute};
//# sourceMappingURL=urlToRoute.js.map
