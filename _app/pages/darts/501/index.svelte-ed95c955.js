import{S as ze,i as Je,s as Ke,e as f,t as y,c as n,a as i,h as m,d as u,b as o,g as S,F as t,j as K,k,m as E,M as O,l as Me,G as Se,N as je,O as Le}from"../../../chunks/vendor-4dad5814.js";function Pe(l,a,r){const d=l.slice();return d[25]=a[r],d[27]=r,d}function qe(l,a,r){const d=l.slice();return d[25]=a[r],d[27]=r,d}function Ae(l){let a,r=l[25].score+"",d;return{c(){a=f("div"),d=y(r),this.h()},l(_){a=n(_,"DIV",{class:!0});var B=i(a);d=m(B,r),B.forEach(u),this.h()},h(){o(a,"class","svelte-f9b8of")},m(_,B){S(_,a,B),t(a,d)},p(_,B){B&2048&&r!==(r=_[25].score+"")&&K(d,r)},d(_){_&&u(a)}}}function Ce(l){let a,r=l[25].score+"",d;return{c(){a=f("div"),d=y(r),this.h()},l(_){a=n(_,"DIV",{class:!0});var B=i(a);d=m(B,r),B.forEach(u),this.h()},h(){o(a,"class","svelte-f9b8of")},m(_,B){S(_,a,B),t(a,d)},p(_,B){B&1024&&r!==(r=_[25].score+"")&&K(d,r)},d(_){_&&u(a)}}}function Fe(l){let a,r,d=(l[5]==0?l[0]:l[1])+"",_,B,j,P,q,U,C,N,V;return{c(){a=f("div"),r=f("div"),_=y(d),B=y(` wins!
        `),j=f("br"),P=f("br"),q=k(),U=f("button"),C=y("Restart"),this.h()},l(c){a=n(c,"DIV",{class:!0});var I=i(a);r=n(I,"DIV",{class:!0});var T=i(r);_=m(T,d),B=m(T,` wins!
        `),j=n(T,"BR",{}),P=n(T,"BR",{}),q=E(T),U=n(T,"BUTTON",{class:!0});var G=i(U);C=m(G,"Restart"),G.forEach(u),T.forEach(u),I.forEach(u),this.h()},h(){o(U,"class","button svelte-f9b8of"),o(r,"class","svelte-f9b8of"),o(a,"class","modal svelte-f9b8of")},m(c,I){S(c,a,I),t(a,r),t(r,_),t(r,B),t(r,j),t(r,P),t(r,q),t(r,U),t(U,C),N||(V=O(U,"click",l[21]),N=!0)},p(c,I){I&35&&d!==(d=(c[5]==0?c[0]:c[1])+"")&&K(_,d)},d(c){c&&u(a),N=!1,V()}}}function Qe(l){let a,r,d,_,B,j,P,q,U,C,N,V,c,I,T,G,ht,L,pt,Dt,Q,W,vt,Bt,X,It,H,s,p,ft,A,g,dt,yt,Nt,h,Y,Mt,St,Z,jt,Pt,$,qt,At,x,Ct,Ft,tt,Gt,Ht,et,zt,Jt,lt,Kt,Lt,st,Qt,Wt,rt,Xt,Yt,ot,Zt,$t,ut,xt,te,at,ee,le,z,Ut,Ot,F,nt,se,re,ct,oe,ue,it,ae,Vt,mt,fe,ne,kt=l[11],w=[];for(let e=0;e<kt.length;e+=1)w[e]=Ae(qe(l,kt,e));let Et=l[10],R=[];for(let e=0;e<Et.length;e+=1)R[e]=Ce(Pe(l,Et,e));let M=(l[5]==0||l[4]==0)&&Fe(l);return{c(){a=f("header"),r=f("div"),d=y(l[0]),B=k(),j=f("div"),P=y("501"),q=k(),U=f("div"),C=y(l[1]),V=k(),c=f("div"),I=f("div"),T=f("div"),G=y(l[5]),ht=k(),L=f("p"),pt=y(l[9]),Dt=k(),Q=f("div");for(let e=0;e<w.length;e+=1)w[e].c();W=k(),vt=f("div"),Bt=k(),X=f("div");for(let e=0;e<R.length;e+=1)R[e].c();It=k(),H=f("div"),s=f("div"),p=y(l[4]),ft=k(),A=f("p"),g=y(l[8]),dt=k(),yt=f("div"),Nt=k(),h=f("div"),Y=f("button"),Mt=y("1"),St=k(),Z=f("button"),jt=y("2"),Pt=k(),$=f("button"),qt=y("3"),At=k(),x=f("button"),Ct=y("4"),Ft=k(),tt=f("button"),Gt=y("5"),Ht=k(),et=f("button"),zt=y("6"),Jt=k(),lt=f("button"),Kt=y("7"),Lt=k(),st=f("button"),Qt=y("8"),Wt=k(),rt=f("button"),Xt=y("9"),Yt=k(),ot=f("button"),Zt=y("Undo"),$t=k(),ut=f("button"),xt=y("0"),te=k(),at=f("button"),ee=y("<"),le=k(),z=f("button"),Ut=y(l[6]),Ot=k(),F=f("div"),nt=f("button"),se=y("60"),re=k(),ct=f("button"),oe=y("100"),ue=k(),it=f("button"),ae=y("180"),Vt=k(),M&&M.c(),mt=Me(),this.h()},l(e){a=n(e,"HEADER",{class:!0});var v=i(a);r=n(v,"DIV",{class:!0});var b=i(r);d=m(b,l[0]),b.forEach(u),B=E(v),j=n(v,"DIV",{class:!0});var bt=i(j);P=m(bt,"501"),bt.forEach(u),q=E(v),U=n(v,"DIV",{class:!0});var ce=i(U);C=m(ce,l[1]),ce.forEach(u),v.forEach(u),V=E(e),c=n(e,"DIV",{class:!0});var J=i(c);I=n(J,"DIV",{class:!0});var gt=i(I);T=n(gt,"DIV",{class:!0});var ie=i(T);G=m(ie,l[5]),ie.forEach(u),ht=E(gt),L=n(gt,"P",{class:!0});var be=i(L);pt=m(be,l[9]),be.forEach(u),gt.forEach(u),Dt=E(J),Q=n(J,"DIV",{class:!0});var ve=i(Q);for(let _t=0;_t<w.length;_t+=1)w[_t].l(ve);ve.forEach(u),W=E(J),vt=n(J,"DIV",{class:!0}),i(vt).forEach(u),Bt=E(J),X=n(J,"DIV",{class:!0});var de=i(X);for(let _t=0;_t<R.length;_t+=1)R[_t].l(de);de.forEach(u),It=E(J),H=n(J,"DIV",{class:!0});var wt=i(H);s=n(wt,"DIV",{class:!0});var _e=i(s);p=m(_e,l[4]),_e.forEach(u),ft=E(wt),A=n(wt,"P",{class:!0});var he=i(A);g=m(he,l[8]),he.forEach(u),wt.forEach(u),J.forEach(u),dt=E(e),yt=n(e,"DIV",{class:!0});var He=i(yt);He.forEach(u),Nt=E(e),h=n(e,"DIV",{class:!0});var D=i(h);Y=n(D,"BUTTON",{type:!0,class:!0});var pe=i(Y);Mt=m(pe,"1"),pe.forEach(u),St=E(D),Z=n(D,"BUTTON",{type:!0,class:!0});var ye=i(Z);jt=m(ye,"2"),ye.forEach(u),Pt=E(D),$=n(D,"BUTTON",{type:!0,class:!0});var me=i($);qt=m(me,"3"),me.forEach(u),At=E(D),x=n(D,"BUTTON",{type:!0,class:!0});var ke=i(x);Ct=m(ke,"4"),ke.forEach(u),Ft=E(D),tt=n(D,"BUTTON",{type:!0,class:!0});var Ee=i(tt);Gt=m(Ee,"5"),Ee.forEach(u),Ht=E(D),et=n(D,"BUTTON",{type:!0,class:!0});var Te=i(et);zt=m(Te,"6"),Te.forEach(u),Jt=E(D),lt=n(D,"BUTTON",{type:!0,class:!0});var De=i(lt);Kt=m(De,"7"),De.forEach(u),Lt=E(D),st=n(D,"BUTTON",{type:!0,class:!0});var Be=i(st);Qt=m(Be,"8"),Be.forEach(u),Wt=E(D),rt=n(D,"BUTTON",{type:!0,class:!0});var Ie=i(rt);Xt=m(Ie,"9"),Ie.forEach(u),Yt=E(D),ot=n(D,"BUTTON",{type:!0,class:!0});var Ne=i(ot);Zt=m(Ne,"Undo"),Ne.forEach(u),$t=E(D),ut=n(D,"BUTTON",{type:!0,class:!0});var Ue=i(ut);xt=m(Ue,"0"),Ue.forEach(u),te=E(D),at=n(D,"BUTTON",{type:!0,class:!0});var Oe=i(at);ee=m(Oe,"<"),Oe.forEach(u),le=E(D),z=n(D,"BUTTON",{id:!0,type:!0,class:!0});var Ve=i(z);Ut=m(Ve,l[6]),Ve.forEach(u),D.forEach(u),Ot=E(e),F=n(e,"DIV",{class:!0});var Tt=i(F);nt=n(Tt,"BUTTON",{type:!0,class:!0});var ge=i(nt);se=m(ge,"60"),ge.forEach(u),re=E(Tt),ct=n(Tt,"BUTTON",{type:!0,class:!0});var we=i(ct);oe=m(we,"100"),we.forEach(u),ue=E(Tt),it=n(Tt,"BUTTON",{type:!0,class:!0});var Re=i(it);ae=m(Re,"180"),Re.forEach(u),Tt.forEach(u),Vt=E(e),M&&M.l(e),mt=Me(),this.h()},h(){o(r,"class",_="player "+(l[3]==l[0]?"active":"")+" svelte-f9b8of"),o(j,"class","title svelte-f9b8of"),o(U,"class",N="player "+(l[3]==l[1]?"active":"")+" svelte-f9b8of"),o(a,"class","svelte-f9b8of"),o(T,"class","svelte-f9b8of"),o(L,"class","svelte-f9b8of"),o(I,"class","current svelte-f9b8of"),o(Q,"class","history svelte-f9b8of"),o(vt,"class","filler svelte-f9b8of"),o(X,"class","history svelte-f9b8of"),o(s,"class","svelte-f9b8of"),o(A,"class","svelte-f9b8of"),o(H,"class","current svelte-f9b8of"),o(c,"class","game svelte-f9b8of"),o(yt,"class","shortcuts"),o(Y,"type","button"),Y.value="1",o(Y,"class","svelte-f9b8of"),o(Z,"type","button"),Z.value="2",o(Z,"class","svelte-f9b8of"),o($,"type","button"),$.value="3",o($,"class","svelte-f9b8of"),o(x,"type","button"),x.value="4",o(x,"class","svelte-f9b8of"),o(tt,"type","button"),tt.value="5",o(tt,"class","svelte-f9b8of"),o(et,"type","button"),et.value="6",o(et,"class","svelte-f9b8of"),o(lt,"type","button"),lt.value="7",o(lt,"class","svelte-f9b8of"),o(st,"type","button"),st.value="8",o(st,"class","svelte-f9b8of"),o(rt,"type","button"),rt.value="9",o(rt,"class","svelte-f9b8of"),o(ot,"type","button"),ot.value="undo",o(ot,"class","svelte-f9b8of"),o(ut,"type","button"),ut.value="0",o(ut,"class","svelte-f9b8of"),o(at,"type","button"),at.value="submit",o(at,"class","svelte-f9b8of"),o(z,"id","submit"),o(z,"type","button"),z.value="submit",o(z,"class","svelte-f9b8of"),o(h,"class","keypad svelte-f9b8of"),o(nt,"type","button"),o(nt,"class","svelte-f9b8of"),o(ct,"type","button"),o(ct,"class","svelte-f9b8of"),o(it,"type","button"),o(it,"class","svelte-f9b8of"),o(F,"class","keypad svelte-f9b8of")},m(e,v){S(e,a,v),t(a,r),t(r,d),t(a,B),t(a,j),t(j,P),t(a,q),t(a,U),t(U,C),S(e,V,v),S(e,c,v),t(c,I),t(I,T),t(T,G),t(I,ht),t(I,L),t(L,pt),t(c,Dt),t(c,Q);for(let b=0;b<w.length;b+=1)w[b].m(Q,null);t(c,W),t(c,vt),t(c,Bt),t(c,X);for(let b=0;b<R.length;b+=1)R[b].m(X,null);t(c,It),t(c,H),t(H,s),t(s,p),t(H,ft),t(H,A),t(A,g),S(e,dt,v),S(e,yt,v),S(e,Nt,v),S(e,h,v),t(h,Y),t(Y,Mt),t(h,St),t(h,Z),t(Z,jt),t(h,Pt),t(h,$),t($,qt),t(h,At),t(h,x),t(x,Ct),t(h,Ft),t(h,tt),t(tt,Gt),t(h,Ht),t(h,et),t(et,zt),t(h,Jt),t(h,lt),t(lt,Kt),t(h,Lt),t(h,st),t(st,Qt),t(h,Wt),t(h,rt),t(rt,Xt),t(h,Yt),t(h,ot),t(ot,Zt),t(h,$t),t(h,ut),t(ut,xt),t(h,te),t(h,at),t(at,ee),t(h,le),t(h,z),t(z,Ut),S(e,Ot,v),S(e,F,v),t(F,nt),t(nt,se),t(F,re),t(F,ct),t(ct,oe),t(F,ue),t(F,it),t(it,ae),S(e,Vt,v),M&&M.m(e,v),S(e,mt,v),fe||(ne=[O(Y,"click",l[12]),O(Z,"click",l[12]),O($,"click",l[12]),O(x,"click",l[12]),O(tt,"click",l[12]),O(et,"click",l[12]),O(lt,"click",l[12]),O(st,"click",l[12]),O(rt,"click",l[12]),O(ot,"click",l[14]),O(ut,"click",l[12]),O(at,"click",l[13]),O(z,"click",l[17]),O(nt,"click",l[18]),O(ct,"click",l[19]),O(it,"click",l[20])],fe=!0)},p(e,[v]){if(v&1&&K(d,e[0]),v&9&&_!==(_="player "+(e[3]==e[0]?"active":"")+" svelte-f9b8of")&&o(r,"class",_),v&2&&K(C,e[1]),v&10&&N!==(N="player "+(e[3]==e[1]?"active":"")+" svelte-f9b8of")&&o(U,"class",N),v&32&&K(G,e[5]),v&512&&K(pt,e[9]),v&2048){kt=e[11];let b;for(b=0;b<kt.length;b+=1){const bt=qe(e,kt,b);w[b]?w[b].p(bt,v):(w[b]=Ae(bt),w[b].c(),w[b].m(Q,null))}for(;b<w.length;b+=1)w[b].d(1);w.length=kt.length}if(v&1024){Et=e[10];let b;for(b=0;b<Et.length;b+=1){const bt=Pe(e,Et,b);R[b]?R[b].p(bt,v):(R[b]=Ce(bt),R[b].c(),R[b].m(X,null))}for(;b<R.length;b+=1)R[b].d(1);R.length=Et.length}v&16&&K(p,e[4]),v&256&&K(g,e[8]),v&64&&K(Ut,e[6]),e[5]==0||e[4]==0?M?M.p(e,v):(M=Fe(e),M.c(),M.m(mt.parentNode,mt)):M&&(M.d(1),M=null)},i:Se,o:Se,d(e){e&&u(a),e&&u(V),e&&u(c),je(w,e),je(R,e),e&&u(dt),e&&u(yt),e&&u(Nt),e&&u(h),e&&u(Ot),e&&u(F),e&&u(Vt),M&&M.d(e),e&&u(mt),fe=!1,Le(ne)}}}let Rt=2,Ge=501;function We(l){switch(l){case 3:return"T";case 2:return"D";default:return""}}function Xe(l,a,r){let d,_,B,j,P,q,U,C,{player1:N="Steve"}=a,{player2:V="Mark"}=a,c=0,I=0,T=[];const G=[32,40,16,8,24,20,36,12,4,28,10,30,50,38,34,2,22,26,18,14,6],ht=[1,3,2].map(s=>[20,19,18,16,12,14,8,10,17,15,25,13,11,1,2,4,5,6,9,7,3].map(p=>s==3&&p==25?[0,0]:[p,s])).reduce((s,p)=>s.some(ft=>ft[0]*ft[1]==p[0]*p[1])?s:s.concat(p),[]);console.debug("possible_throws",ht);function L(s){if(s==0)return"";if(s>170||[169,168,166,165,163,162,159].some(g=>g==s))return"no checkout possible";if(s==50)return"Bull";if(G.some(g=>g==s))return`D${s/2}`;const p=s>=110||[107,104,101].some(g=>g==s),ft=p?s-60:s;let A=G.map(g=>ht.map(dt=>({double:g,number:dt[0],hits:dt[1]}))).flat().filter(g=>g.double+g.number*g.hits==ft);return A.length>0?`${p?"T20 ":""} ${We(A[0].hits)}${A[0].number} ${A[0].double==50?"Bull":"D"+A[0].double/2}`:"checkout possible"}function pt(s){console.debug("press",s.target.value),s.target.disabled=!0,r(6,c=parseInt(`${c}${s.target.value}`)),c>180&&r(6,c=0),setTimeout(()=>{s.target.disabled=!1},250)}function Dt(){console.debug("backspace"),c!=0&&r(6,c=parseInt(c.toString().substring(1,-1)))}function Q(){console.debug("undo"),c==0&&(r(7,I=I-1),r(6,c=0))}function W(s){console.debug("submit",s),(_==N&&P>=s&&P!=s+1||_==V&&q>=s&&q!=s+1)&&(r(2,T=[...T,{turn:I,player:_,score:s}]),r(7,I=I+1),r(6,c=0))}const vt=()=>W(c),Bt=()=>W(60),X=()=>W(100),It=()=>W(180),H=()=>{r(2,T=[]),r(7,I=0)};return l.$$set=s=>{"player1"in s&&r(0,N=s.player1),"player2"in s&&r(1,V=s.player2)},l.$$.update=()=>{l.$$.dirty&5&&r(16,d=T.length==0?N:T.filter(s=>s.turn==0)[0].player),l.$$.dirty&7&&r(3,_=T.length==0?N:T.reduce((s,p)=>p.turn>s.turn?p:s).player==N?V:N),l.$$.dirty&65551&&r(11,B=T.filter(s=>s.player==N).sort((s,p)=>p.turn-s.turn).slice(0,_==N&&d==V?Rt:Rt+1).sort((s,p)=>s.turn-p.turn)),l.$$.dirty&65551&&r(10,j=T.filter(s=>s.player==V).sort((s,p)=>p.turn-s.turn).slice(0,_==V&&d==N?Rt:Rt+1).sort((s,p)=>s.turn-p.turn)),l.$$.dirty&5&&r(5,P=Math.max(0,T.filter(s=>s.player==N).reduce((s,p)=>s-p.score,Ge))),l.$$.dirty&6&&r(4,q=Math.max(0,T.filter(s=>s.player==V).reduce((s,p)=>s-p.score,Ge))),l.$$.dirty&32&&r(9,U=L(P)),l.$$.dirty&16&&r(8,C=L(q))},[N,V,T,_,q,P,c,I,C,U,j,B,pt,Dt,Q,W,d,vt,Bt,X,It,H]}class Ze extends ze{constructor(a){super();Je(this,a,Xe,Qe,Ke,{player1:0,player2:1})}}export{Ze as default};
