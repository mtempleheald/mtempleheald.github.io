import{S as Ie,i as ge,s as Ue,e as i,t as k,c as v,a as b,h as T,d as a,b as r,g as S,F as e,j as Z,k as E,m,M as V,G as _e,N as he,O as Ne}from"../../../chunks/vendor-4dad5814.js";function ye(l,o,u){const h=l.slice();return h[20]=o[u],h[22]=u,h}function Ee(l,o,u){const h=l.slice();return h[20]=o[u],h[22]=u,h}function me(l){let o,u=l[20].score+"",h;return{c(){o=i("div"),h=k(u),this.h()},l(_){o=v(_,"DIV",{class:!0});var D=b(o);h=T(D,u),D.forEach(a),this.h()},h(){r(o,"class","svelte-33bptu")},m(_,D){S(_,o,D),e(o,h)},p(_,D){D&512&&u!==(u=_[20].score+"")&&Z(h,u)},d(_){_&&a(o)}}}function ke(l){let o,u=l[20].score+"",h;return{c(){o=i("div"),h=k(u),this.h()},l(_){o=v(_,"DIV",{class:!0});var D=b(o);h=T(D,u),D.forEach(a),this.h()},h(){r(o,"class","svelte-33bptu")},m(_,D){S(_,o,D),e(o,h)},p(_,D){D&256&&u!==(u=_[20].score+"")&&Z(h,u)},d(_){_&&a(o)}}}function Oe(l){let o,u,h,_,D,q,$,x,j,lt,g,B,n,O,I,rt,vt,A,ut,bt,C,pt,s,f,w,Dt,tt,at,ft,It,ot,dt,_t,ct,ht,d,F,gt,Ut,G,Nt,Ot,H,Bt,Vt,R,Mt,St,z,jt,wt,J,Pt,qt,K,At,Ct,L,Ft,Gt,Q,Ht,Rt,W,zt,Jt,X,Kt,Lt,Y,Qt,yt,M,Et,Wt,Xt,nt=l[9],U=[];for(let t=0;t<nt.length;t+=1)U[t]=me(Ee(l,nt,t));let it=l[8],N=[];for(let t=0;t<it.length;t+=1)N[t]=ke(ye(l,it,t));return{c(){o=i("header"),u=i("div"),h=k(l[0]),D=E(),q=i("div"),$=k("501"),x=E(),j=i("div"),lt=k(l[1]),B=E(),n=i("div"),O=i("div"),I=i("div"),rt=k(l[4]),vt=E(),A=i("p"),ut=k(l[7]),bt=E(),C=i("div");for(let t=0;t<U.length;t+=1)U[t].c();pt=E(),s=i("div"),f=E(),w=i("div");for(let t=0;t<N.length;t+=1)N[t].c();Dt=E(),tt=i("div"),at=i("div"),ft=k(l[3]),It=E(),ot=i("p"),dt=k(l[6]),_t=E(),ct=i("div"),ht=E(),d=i("div"),F=i("button"),gt=k("1"),Ut=E(),G=i("button"),Nt=k("2"),Ot=E(),H=i("button"),Bt=k("3"),Vt=E(),R=i("button"),Mt=k("4"),St=E(),z=i("button"),jt=k("5"),wt=E(),J=i("button"),Pt=k("6"),qt=E(),K=i("button"),At=k("7"),Ct=E(),L=i("button"),Ft=k("8"),Gt=E(),Q=i("button"),Ht=k("9"),Rt=E(),W=i("button"),zt=k("Undo"),Jt=E(),X=i("button"),Kt=k("0"),Lt=E(),Y=i("button"),Qt=k("<"),yt=E(),M=i("button"),Et=k(l[5]),this.h()},l(t){o=v(t,"HEADER",{class:!0});var p=b(o);u=v(p,"DIV",{class:!0});var c=b(u);h=T(c,l[0]),c.forEach(a),D=m(p),q=v(p,"DIV",{class:!0});var et=b(q);$=T(et,"501"),et.forEach(a),x=m(p),j=v(p,"DIV",{class:!0});var Yt=b(j);lt=T(Yt,l[1]),Yt.forEach(a),p.forEach(a),B=m(t),n=v(t,"DIV",{class:!0});var P=b(n);O=v(P,"DIV",{class:!0});var mt=b(O);I=v(mt,"DIV",{class:!0});var Zt=b(I);rt=T(Zt,l[4]),Zt.forEach(a),vt=m(mt),A=v(mt,"P",{class:!0});var $t=b(A);ut=T($t,l[7]),$t.forEach(a),mt.forEach(a),bt=m(P),C=v(P,"DIV",{class:!0});var xt=b(C);for(let st=0;st<U.length;st+=1)U[st].l(xt);xt.forEach(a),pt=m(P),s=v(P,"DIV",{class:!0}),b(s).forEach(a),f=m(P),w=v(P,"DIV",{class:!0});var te=b(w);for(let st=0;st<N.length;st+=1)N[st].l(te);te.forEach(a),Dt=m(P),tt=v(P,"DIV",{class:!0});var kt=b(tt);at=v(kt,"DIV",{class:!0});var ee=b(at);ft=T(ee,l[3]),ee.forEach(a),It=m(kt),ot=v(kt,"P",{class:!0});var le=b(ot);dt=T(le,l[6]),le.forEach(a),kt.forEach(a),P.forEach(a),_t=m(t),ct=v(t,"DIV",{class:!0});var De=b(ct);De.forEach(a),ht=m(t),d=v(t,"DIV",{class:!0});var y=b(d);F=v(y,"BUTTON",{type:!0,class:!0});var se=b(F);gt=T(se,"1"),se.forEach(a),Ut=m(y),G=v(y,"BUTTON",{type:!0,class:!0});var re=b(G);Nt=T(re,"2"),re.forEach(a),Ot=m(y),H=v(y,"BUTTON",{type:!0,class:!0});var ue=b(H);Bt=T(ue,"3"),ue.forEach(a),Vt=m(y),R=v(y,"BUTTON",{type:!0,class:!0});var ae=b(R);Mt=T(ae,"4"),ae.forEach(a),St=m(y),z=v(y,"BUTTON",{type:!0,class:!0});var oe=b(z);jt=T(oe,"5"),oe.forEach(a),wt=m(y),J=v(y,"BUTTON",{type:!0,class:!0});var ce=b(J);Pt=T(ce,"6"),ce.forEach(a),qt=m(y),K=v(y,"BUTTON",{type:!0,class:!0});var ne=b(K);At=T(ne,"7"),ne.forEach(a),Ct=m(y),L=v(y,"BUTTON",{type:!0,class:!0});var ie=b(L);Ft=T(ie,"8"),ie.forEach(a),Gt=m(y),Q=v(y,"BUTTON",{type:!0,class:!0});var ve=b(Q);Ht=T(ve,"9"),ve.forEach(a),Rt=m(y),W=v(y,"BUTTON",{type:!0,class:!0});var be=b(W);zt=T(be,"Undo"),be.forEach(a),Jt=m(y),X=v(y,"BUTTON",{type:!0,class:!0});var pe=b(X);Kt=T(pe,"0"),pe.forEach(a),Lt=m(y),Y=v(y,"BUTTON",{type:!0,class:!0});var fe=b(Y);Qt=T(fe,"<"),fe.forEach(a),y.forEach(a),yt=m(t),M=v(t,"BUTTON",{id:!0,type:!0,class:!0});var de=b(M);Et=T(de,l[5]),de.forEach(a),this.h()},h(){r(u,"class",_="player "+(l[2]==l[0]?"active":"")+" svelte-33bptu"),r(q,"class","title svelte-33bptu"),r(j,"class",g="player "+(l[2]==l[1]?"active":"")+" svelte-33bptu"),r(o,"class","svelte-33bptu"),r(I,"class","svelte-33bptu"),r(A,"class","svelte-33bptu"),r(O,"class","current svelte-33bptu"),r(C,"class","history svelte-33bptu"),r(s,"class","filler svelte-33bptu"),r(w,"class","history svelte-33bptu"),r(at,"class","svelte-33bptu"),r(ot,"class","svelte-33bptu"),r(tt,"class","current svelte-33bptu"),r(n,"class","game svelte-33bptu"),r(ct,"class","shortcuts"),r(F,"type","button"),F.value="1",r(F,"class","svelte-33bptu"),r(G,"type","button"),G.value="2",r(G,"class","svelte-33bptu"),r(H,"type","button"),H.value="3",r(H,"class","svelte-33bptu"),r(R,"type","button"),R.value="4",r(R,"class","svelte-33bptu"),r(z,"type","button"),z.value="5",r(z,"class","svelte-33bptu"),r(J,"type","button"),J.value="6",r(J,"class","svelte-33bptu"),r(K,"type","button"),K.value="7",r(K,"class","svelte-33bptu"),r(L,"type","button"),L.value="8",r(L,"class","svelte-33bptu"),r(Q,"type","button"),Q.value="9",r(Q,"class","svelte-33bptu"),r(W,"type","button"),W.value="undo",r(W,"class","svelte-33bptu"),r(X,"type","button"),X.value="0",r(X,"class","svelte-33bptu"),r(Y,"type","button"),Y.value="submit",r(Y,"class","svelte-33bptu"),r(d,"class","keypad svelte-33bptu"),r(M,"id","submit"),r(M,"type","button"),M.value="submit",r(M,"class","svelte-33bptu")},m(t,p){S(t,o,p),e(o,u),e(u,h),e(o,D),e(o,q),e(q,$),e(o,x),e(o,j),e(j,lt),S(t,B,p),S(t,n,p),e(n,O),e(O,I),e(I,rt),e(O,vt),e(O,A),e(A,ut),e(n,bt),e(n,C);for(let c=0;c<U.length;c+=1)U[c].m(C,null);e(n,pt),e(n,s),e(n,f),e(n,w);for(let c=0;c<N.length;c+=1)N[c].m(w,null);e(n,Dt),e(n,tt),e(tt,at),e(at,ft),e(tt,It),e(tt,ot),e(ot,dt),S(t,_t,p),S(t,ct,p),S(t,ht,p),S(t,d,p),e(d,F),e(F,gt),e(d,Ut),e(d,G),e(G,Nt),e(d,Ot),e(d,H),e(H,Bt),e(d,Vt),e(d,R),e(R,Mt),e(d,St),e(d,z),e(z,jt),e(d,wt),e(d,J),e(J,Pt),e(d,qt),e(d,K),e(K,At),e(d,Ct),e(d,L),e(L,Ft),e(d,Gt),e(d,Q),e(Q,Ht),e(d,Rt),e(d,W),e(W,zt),e(d,Jt),e(d,X),e(X,Kt),e(d,Lt),e(d,Y),e(Y,Qt),S(t,yt,p),S(t,M,p),e(M,Et),Wt||(Xt=[V(F,"click",l[10]),V(G,"click",l[10]),V(H,"click",l[10]),V(R,"click",l[10]),V(z,"click",l[10]),V(J,"click",l[10]),V(K,"click",l[10]),V(L,"click",l[10]),V(Q,"click",l[10]),V(W,"click",l[12]),V(X,"click",l[10]),V(Y,"click",l[11]),V(M,"click",l[13])],Wt=!0)},p(t,[p]){if(p&1&&Z(h,t[0]),p&5&&_!==(_="player "+(t[2]==t[0]?"active":"")+" svelte-33bptu")&&r(u,"class",_),p&2&&Z(lt,t[1]),p&6&&g!==(g="player "+(t[2]==t[1]?"active":"")+" svelte-33bptu")&&r(j,"class",g),p&16&&Z(rt,t[4]),p&128&&Z(ut,t[7]),p&512){nt=t[9];let c;for(c=0;c<nt.length;c+=1){const et=Ee(t,nt,c);U[c]?U[c].p(et,p):(U[c]=me(et),U[c].c(),U[c].m(C,null))}for(;c<U.length;c+=1)U[c].d(1);U.length=nt.length}if(p&256){it=t[8];let c;for(c=0;c<it.length;c+=1){const et=ye(t,it,c);N[c]?N[c].p(et,p):(N[c]=ke(et),N[c].c(),N[c].m(w,null))}for(;c<N.length;c+=1)N[c].d(1);N.length=it.length}p&8&&Z(ft,t[3]),p&64&&Z(dt,t[6]),p&32&&Z(Et,t[5])},i:_e,o:_e,d(t){t&&a(o),t&&a(B),t&&a(n),he(U,t),he(N,t),t&&a(_t),t&&a(ct),t&&a(ht),t&&a(d),t&&a(yt),t&&a(M),Wt=!1,Ne(Xt)}}}let Tt=2,Te=501;function Be(l,o,u){let h,_,D,q,$,x,j,lt,{player1:g="Steve"}=o,{player2:B="Mark"}=o,n=0,O=0,I=[];const rt=[32,20,16,8,24,36,12,4,28,10,30,50,38,34,2,22,10,26,18,14,6],vt=[20,19,18,16,12,14,8,10,17,15,25,13,11,1,2,4,5,6,9,7,3].map(s=>[1,2,3].map(f=>f==3&&s==25?[0,0]:[s,f])).reduce((s,f)=>s.some(w=>w[0]*w[1]==f[0]*f[1])?s:s.concat(f),[]);console.debug("possible_throws",vt);function A(s){return s>170||[169,168,166,165,163,162,159].some(f=>f==s)?"no checkout possible":rt.some(f=>f==s)?`D${s/2}`:"checkout possible"}function ut(s){console.debug("press",s.target.value),s.target.disabled=!0,u(5,n=parseInt(`${n}${s.target.value}`)),n>180&&u(5,n=0),setTimeout(()=>{s.target.disabled=!1},250)}function bt(){console.debug("backspace"),n!=0&&u(5,n=parseInt(n.toString().substring(1,-1)))}function C(){console.debug("undo"),n==0&&(O=O-1,u(5,n=0))}function pt(){console.debug("submit",n),(_==g&&$>n||_==B&&x>n)&&(u(14,I=[...I,{turn:O,player:_,score:n}]),O=O+1,u(5,n=0))}return l.$$set=s=>{"player1"in s&&u(0,g=s.player1),"player2"in s&&u(1,B=s.player2)},l.$$.update=()=>{l.$$.dirty&16385&&u(15,h=I.length==0?g:I.filter(s=>s.turn==0)[0].player),l.$$.dirty&16387&&u(2,_=I.length==0?g:I.reduce((s,f)=>f.turn>s.turn?f:s).player==g?B:g),l.$$.dirty&49159&&u(9,D=I.filter(s=>s.player==g).sort((s,f)=>f.turn-s.turn).slice(0,_==g&&h==B?Tt:Tt+1).sort((s,f)=>s.turn-f.turn)),l.$$.dirty&49159&&u(8,q=I.filter(s=>s.player==B).sort((s,f)=>f.turn-s.turn).slice(0,_==B&&h==g?Tt:Tt+1).sort((s,f)=>s.turn-f.turn)),l.$$.dirty&16385&&u(4,$=Math.max(0,I.filter(s=>s.player==g).reduce((s,f)=>s-f.score,Te))),l.$$.dirty&16386&&u(3,x=Math.max(0,I.filter(s=>s.player==B).reduce((s,f)=>s-f.score,Te))),l.$$.dirty&16&&u(7,j=A($)),l.$$.dirty&8&&u(6,lt=A(x))},[g,B,_,x,$,n,lt,j,q,D,ut,bt,C,pt,I,h]}class Me extends Ie{constructor(o){super();ge(this,o,Be,Oe,Ue,{player1:0,player2:1})}}export{Me as default};
