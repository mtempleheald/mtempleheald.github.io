import{a as M,t as D}from"../chunks/disclose-version.1SaWgZ9i.js";import"../chunks/legacy.8a7pGasK.js";import{p as ye,a8 as u,a9 as he,f as fe,t as S,a as me,i as l,s as r,j as e,r as s,a7 as o,aa as v}from"../chunks/runtime.B66Dd-K4.js";import{e as c,s as i}from"../chunks/render.D2dCr97A.js";import{i as X}from"../chunks/if.CfNm2cX5.js";import{e as Ot,i as Pt}from"../chunks/each.5amnv-zk.js";import{i as ge}from"../chunks/lifecycle.CGr_xQjG.js";var ke=D('<img src="/dart.svg" alt="dart-icon" height="20" class="svelte-8xr2s8">'),$e=D('<img src="/dart.svg" alt="dart-icon" height="20" class="svelte-8xr2s8">'),we=D('<div class="svelte-8xr2s8"> </div>'),Me=D('<div class="svelte-8xr2s8"> </div>'),De=D('<div class="modal svelte-8xr2s8"><div class="svelte-8xr2s8"> <br><br> <button class="button svelte-8xr2s8">Restart</button></div></div>'),Te=D('<header class="svelte-8xr2s8"><div class="player svelte-8xr2s8"> <!></div> <div class="title svelte-8xr2s8">501</div> <div class="player svelte-8xr2s8"> <!></div></header> <div class="game svelte-8xr2s8"><div class="game-score svelte-8xr2s8"><h1 class="svelte-8xr2s8"> </h1> <p> </p></div> <div class="history-container svelte-8xr2s8"><div class="history svelte-8xr2s8"></div> <div class="history svelte-8xr2s8"></div></div> <div class="game-score svelte-8xr2s8"><h1 class="svelte-8xr2s8"> </h1> <p> </p></div></div> <div class="keypad svelte-8xr2s8"><button type="button" value="1" class="svelte-8xr2s8">1</button> <button type="button" value="2" class="svelte-8xr2s8">2</button> <button type="button" value="3" class="svelte-8xr2s8">3</button> <button type="button" value="4" class="svelte-8xr2s8">4</button> <button type="button" value="5" class="svelte-8xr2s8">5</button> <button type="button" value="6" class="svelte-8xr2s8">6</button> <button type="button" value="7" class="svelte-8xr2s8">7</button> <button type="button" value="8" class="svelte-8xr2s8">8</button> <button type="button" value="9" class="svelte-8xr2s8">9</button> <button type="button" value="undo" class="svelte-8xr2s8">Undo</button> <button type="button" value="0" class="svelte-8xr2s8">0</button> <button type="button" value="submit" class="svelte-8xr2s8">&lt;</button> <button id="submit" type="button" value="submit" class="svelte-8xr2s8"> </button></div> <div class="keypad svelte-8xr2s8"><button type="button" class="svelte-8xr2s8">60</button> <button type="button" class="svelte-8xr2s8">100</button> <button type="button" class="svelte-8xr2s8">180</button></div> <div class="match svelte-8xr2s8"><table class="svelte-8xr2s8"><tbody><tr><td>avg</td><td> </td></tr><tr><td>180s</td><td> </td></tr><tr><td>140s</td><td> </td></tr><tr><td>100s</td><td> </td></tr></tbody></table> <div class="filler svelte-8xr2s8"></div> <table class="svelte-8xr2s8"><tbody><tr><td>avg</td><td> </td></tr><tr><td>180s</td><td> </td></tr><tr><td>140s</td><td> </td></tr><tr><td>100s</td><td> </td></tr></tbody></table></div> <!>',1);function ze(Qt,Wt){ye(Wt,!1);const T=v(),f=v(),b=v(),p=v(),k=v(),$=v(),Y=v(),Z=v(),V=v(),tt=v(),et=v(),rt=v(),st=v(),at=v(),lt=v(),ot=v();let x="Steve",g="Mark",B=2,vt=501,y=v(0),w=v(0),n=v([]);const nt=[32,40,16,8,24,20,36,12,4,28,10,30,50,38,34,2,22,26,18,14,6],Xt=[1,3,2].map(t=>[20,19,18,16,12,14,8,10,17,15,25,13,11,1,2,4,5,6,9,7,3].map(a=>t==3&&a==25?[0,0]:[a,t])).reduce((t,a)=>t.some(d=>d[0]*d[1]==a[0]*a[1])?t:t.concat(a),[]);function ct(t){if(t==0)return"";if(t>170||[169,168,166,165,163,162,159].some(_=>_==t))return"no checkout";if(t==50)return"Bull";if(nt.some(_=>_==t))return`D${t/2}`;const a=t>=110||[107,104,101].some(_=>_==t),d=a?t-60:t;let h=nt.map(_=>Xt.map(Nt=>({double:_,number:Nt[0],hits:Nt[1]}))).flat().filter(_=>_.double+_.number*_.hits==d);return h.length>0?`${a?"T20 ":""} ${Yt(h[0].hits)}${h[0].number} ${h[0].double==50?"Bull":"D"+h[0].double/2}`:"checkout possible"}function Yt(t){switch(t){case 3:return"T";case 2:return"D";default:return""}}function m(t){console.debug("press",t.target.value),t.target.disabled=!0,o(y,parseInt(`${e(y)}${t.target.value}`)),e(y)>180&&o(y,0),setTimeout(()=>{t.target.disabled=!1},250)}function Zt(){console.debug("backspace"),e(y)!=0&&o(y,parseInt(e(y).toString().substring(1,-1)))}function Vt(){console.debug("undo"),e(y)==0&&(o(w,e(w)-1),o(y,0))}function I(t){console.debug("submit",t),(e(f)==x&&e(k)>=t&&e(k)!=t+1||e(f)==g&&e($)>=t&&e($)!=t+1)&&(o(n,[...e(n),{turn:e(w),player:e(f),score:t}]),o(w,e(w)+1),o(y,0))}u(()=>e(n),()=>{o(T,e(n).length==0?x:e(n).filter(t=>t.turn==0)[0].player)}),u(()=>e(n),()=>{o(f,e(n).length==0?x:e(n).reduce((t,a)=>a.turn>t.turn?a:t).player==x?g:x)}),u(()=>(e(n),e(f),e(T)),()=>{o(b,e(n).filter(t=>t.player==x).sort((t,a)=>a.turn-t.turn).slice(0,e(f)==x&&e(T)==g?B:B+1).sort((t,a)=>t.turn-a.turn))}),u(()=>(e(n),e(f),e(T)),()=>{o(p,e(n).filter(t=>t.player==g).sort((t,a)=>a.turn-t.turn).slice(0,e(f)==g&&e(T)==x?B:B+1).sort((t,a)=>t.turn-a.turn))}),u(()=>e(n),()=>{o(k,Math.max(0,e(n).filter(t=>t.player==x).reduce((t,a)=>t-a.score,vt)))}),u(()=>e(n),()=>{o($,Math.max(0,e(n).filter(t=>t.player==g).reduce((t,a)=>t-a.score,vt)))}),u(()=>e(k),()=>{o(Y,ct(e(k)))}),u(()=>e($),()=>{o(Z,ct(e($)))}),u(()=>e(b),()=>{o(V,e(b).filter(t=>t.score==180).length)}),u(()=>e(b),()=>{o(tt,e(b).filter(t=>t.score>=140&&t.score<180).length)}),u(()=>e(b),()=>{o(et,e(b).filter(t=>t.score>=100&&t.score<140).length)}),u(()=>e(b),()=>{o(rt,e(b).length==0?0:Math.round(100*e(b).reduce((t,a)=>t+a.score,0)/e(b).length)/100)}),u(()=>e(p),()=>{o(st,e(p).filter(t=>t.score==180).length)}),u(()=>e(p),()=>{o(at,e(p).filter(t=>t.score>=140&&t.score<180).length)}),u(()=>e(p),()=>{o(lt,e(p).filter(t=>t.score>=100&&t.score<140).length)}),u(()=>e(p),()=>{o(ot,e(p).length==0?0:Math.round(100*e(p).reduce((t,a)=>t+a.score,0)/e(p).length)/100)}),he(),ge();var ut=Te(),j=fe(ut),R=l(j),it=l(R);it.nodeValue=`${x} `;var te=r(it);X(te,()=>e(f)==x,t=>{var a=ke();M(t,a)}),s(R);var dt=r(R,4),_t=l(dt);_t.nodeValue=`${g} `;var ee=r(_t);X(ee,()=>e(f)==g,t=>{var a=$e();M(t,a)}),s(dt),s(j);var U=r(j,2),q=l(U),z=l(q),re=l(z,!0);s(z);var bt=r(z,2),se=l(bt,!0);s(bt),s(q);var A=r(q,2),C=l(A);Ot(C,5,()=>e(b),Pt,(t,a)=>{var d=we(),h=l(d,!0);s(d),S(()=>i(h,e(a).score)),M(t,d)}),s(C);var pt=r(C,2);Ot(pt,5,()=>e(p),Pt,(t,a)=>{var d=Me(),h=l(d,!0);s(d),S(()=>i(h,e(a).score)),M(t,d)}),s(pt),s(A);var xt=r(A,2),E=l(xt),ae=l(E,!0);s(E);var yt=r(E,2),le=l(yt,!0);s(yt),s(xt),s(U);var F=r(U,2),ht=l(F),ft=r(ht,2),mt=r(ft,2),gt=r(mt,2),kt=r(gt,2),$t=r(kt,2),wt=r($t,2),Mt=r(wt,2),Dt=r(Mt,2),Tt=r(Dt,2),Bt=r(Tt,2),It=r(Bt,2),G=r(It,2),oe=l(G,!0);s(G),s(F);var H=r(F,2),St=l(H),jt=r(St,2),ve=r(jt,2);s(H);var J=r(H,2),K=l(J),Rt=l(K),L=l(Rt),Ut=r(l(L)),ne=l(Ut,!0);s(Ut),s(L);var N=r(L),qt=r(l(N)),ce=l(qt,!0);s(qt),s(N);var O=r(N),zt=r(l(O)),ue=l(zt,!0);s(zt),s(O);var At=r(O),Ct=r(l(At)),ie=l(Ct,!0);s(Ct),s(At),s(Rt),s(K);var Et=r(K,4),Ft=l(Et),P=l(Ft),Gt=r(l(P)),de=l(Gt,!0);s(Gt),s(P);var Q=r(P),Ht=r(l(Q)),_e=l(Ht,!0);s(Ht),s(Q);var W=r(Q),Jt=r(l(W)),be=l(Jt,!0);s(Jt),s(W);var Kt=r(W),Lt=r(l(Kt)),pe=l(Lt,!0);s(Lt),s(Kt),s(Ft),s(Et),s(J);var xe=r(J,2);X(xe,()=>e(k)==0||e($)==0,t=>{var a=De(),d=l(a),h=l(d),_=r(h,4);s(d),s(a),S(()=>i(h,`${(e(k)==0?x:g)??""} wins! `)),c("click",_,()=>{o(n,[]),o(w,0)}),M(t,a)}),S(()=>{i(re,e(k)),i(se,e(Y)),i(ae,e($)),i(le,e(Z)),i(oe,e(y)),i(ne,e(rt)),i(ce,e(V)),i(ue,e(tt)),i(ie,e(et)),i(de,e(ot)),i(_e,e(st)),i(be,e(at)),i(pe,e(lt))}),c("click",ht,m),c("click",ft,m),c("click",mt,m),c("click",gt,m),c("click",kt,m),c("click",$t,m),c("click",wt,m),c("click",Mt,m),c("click",Dt,m),c("click",Tt,Vt),c("click",Bt,m),c("click",It,Zt),c("click",G,()=>I(e(y))),c("click",St,()=>I(60)),c("click",jt,()=>I(100)),c("click",ve,()=>I(180)),M(Qt,ut),me()}export{ze as component};
