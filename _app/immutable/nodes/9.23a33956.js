import{s as d,n as c}from"../chunks/scheduler.63274e7e.js";import{S as _,i as b,g as k,s as y,H as T,h as r,z as A,c as R,j as w,B as N,f as e,k as h,a as l}from"../chunks/index.d9809aad.js";function E(i){let n,u="I stole this script from somewhere, I forget where. I found it useful at the time for testing planned schedules for dbms_scheduler jobs.",t,a,o,m=`<code class="language-plsql"><span class="token keyword">declare</span>
   l_start_date         <span class="token keyword">TIMESTAMP</span><span class="token punctuation">;</span>
   l_next_date          <span class="token keyword">TIMESTAMP</span><span class="token punctuation">;</span>
   l_return_date        <span class="token keyword">TIMESTAMP</span><span class="token punctuation">;</span>
   daily_6am            <span class="token keyword">CONSTANT</span> VARCHAR2<span class="token punctuation">(</span><span class="token number">4000</span><span class="token punctuation">)</span> <span class="token operator">:=</span> 'FREQ<span class="token operator">=</span>DAILY<span class="token punctuation">;</span> BYHOUR<span class="token operator">=</span><span class="token number">6</span>'<span class="token punctuation">;</span>
   weekdays_3am         <span class="token keyword">CONSTANT</span> VARCHAR2<span class="token punctuation">(</span><span class="token number">4000</span><span class="token punctuation">)</span> <span class="token operator">:=</span> 'FREQ<span class="token operator">=</span>DAILY<span class="token punctuation">;</span> BYDAY<span class="token operator">=</span>MON<span class="token punctuation">,</span>TUE<span class="token punctuation">,</span>WED<span class="token punctuation">,</span>THU<span class="token punctuation">,</span>FRI<span class="token punctuation">;</span> BYHOUR<span class="token operator">=</span><span class="token number">3</span>'<span class="token punctuation">;</span>
   hourly_25past        <span class="token keyword">CONSTANT</span> VARCHAR2<span class="token punctuation">(</span><span class="token number">4000</span><span class="token punctuation">)</span> <span class="token operator">:=</span> 'FREQ<span class="token operator">=</span>HOURLY<span class="token punctuation">;</span> BYMINUTE<span class="token operator">=</span><span class="token number">25</span>'<span class="token punctuation">;</span>
   workday_20mins       <span class="token keyword">CONSTANT</span> VARCHAR2<span class="token punctuation">(</span><span class="token number">4000</span><span class="token punctuation">)</span> <span class="token operator">:=</span> 'FREQ<span class="token operator">=</span>MINUTELY<span class="token punctuation">;</span> BYHOUR<span class="token operator">=</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token number">17</span><span class="token punctuation">;</span> <span class="token keyword">INTERVAL</span><span class="token operator">=</span><span class="token number">20</span>'<span class="token punctuation">;</span>
   lastSunofmonth315pm  <span class="token keyword">CONSTANT</span> VARCHAR2<span class="token punctuation">(</span><span class="token number">4000</span><span class="token punctuation">)</span> <span class="token operator">:=</span> 'FREQ<span class="token operator">=</span>MONTHLY<span class="token punctuation">;</span> BYDAY<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span>SUN<span class="token punctuation">;</span> BYHOUR<span class="token operator">=</span><span class="token number">15</span><span class="token punctuation">;</span> BYMINUTE<span class="token operator">=</span><span class="token number">15</span>'<span class="token punctuation">;</span>
   every5minutes        <span class="token keyword">CONSTANT</span> VARCHAR2<span class="token punctuation">(</span><span class="token number">4000</span><span class="token punctuation">)</span> <span class="token operator">:=</span> 'FREQ<span class="token operator">=</span>MINUTELY<span class="token punctuation">;</span> <span class="token keyword">INTERVAL</span><span class="token operator">=</span><span class="token number">5</span>'<span class="token punctuation">;</span>
   every5minsplus2      <span class="token keyword">CONSTANT</span> VARCHAR2<span class="token punctuation">(</span><span class="token number">4000</span><span class="token punctuation">)</span> <span class="token operator">:=</span> 'FREQ<span class="token operator">=</span>MINUTELY<span class="token punctuation">;</span> BYMINUTE<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">17</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">,</span><span class="token number">27</span><span class="token punctuation">,</span><span class="token number">32</span><span class="token punctuation">,</span><span class="token number">37</span><span class="token punctuation">,</span><span class="token number">42</span><span class="token punctuation">,</span><span class="token number">47</span><span class="token punctuation">,</span><span class="token number">52</span><span class="token punctuation">,</span><span class="token number">57</span>'<span class="token punctuation">;</span>

   l_calendar         VARCHAR2<span class="token punctuation">(</span><span class="token number">4000</span><span class="token punctuation">)</span> <span class="token operator">:=</span> every5minsplus2<span class="token punctuation">;</span>
<span class="token keyword">begin</span>
   l_start_date <span class="token operator">:=</span> trunc<span class="token punctuation">(</span>SYSTIMESTAMP<span class="token punctuation">)</span><span class="token punctuation">;</span>
   l_return_date <span class="token operator">:=</span> l_start_date<span class="token punctuation">;</span>
   <span class="token keyword">for</span> ctr <span class="token keyword">in</span> <span class="token number">1.</span><span class="token number">.100</span> <span class="token keyword">loop</span>
      dbms_scheduler<span class="token punctuation">.</span>evaluate_calendar_string <span class="token punctuation">(</span>l_calendar
                                              <span class="token punctuation">,</span>l_start_date
                                              <span class="token punctuation">,</span>l_return_date
                                              <span class="token punctuation">,</span>l_next_date<span class="token punctuation">)</span><span class="token punctuation">;</span>
      dbms_output<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span>'Next Run <span class="token keyword">on</span><span class="token operator">:</span> ' <span class="token operator">||</span>
          to_char<span class="token punctuation">(</span>l_next_date<span class="token punctuation">,</span>'<span class="token keyword">day</span> dd<span class="token operator">/</span>mm<span class="token operator">/</span>yyyy hh24<span class="token operator">:</span>mi<span class="token operator">:</span>ss'<span class="token punctuation">)</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
      l_return_date <span class="token operator">:=</span> l_next_date<span class="token punctuation">;</span>
   <span class="token keyword">end</span> <span class="token keyword">loop</span><span class="token punctuation">;</span>
<span class="token keyword">end</span><span class="token punctuation">;</span></code>`;return{c(){n=k("p"),n.textContent=u,t=y(),a=k("pre"),o=new T(!1),this.h()},l(s){n=r(s,"P",{"data-svelte-h":!0}),A(n)!=="svelte-1frpor6"&&(n.textContent=u),t=R(s),a=r(s,"PRE",{class:!0});var p=w(a);o=N(p,!1),p.forEach(e),this.h()},h(){o.a=null,h(a,"class","language-plsql")},m(s,p){l(s,n,p),l(s,t,p),l(s,a,p),o.m(m,a)},p:c,i:c,o:c,d(s){s&&(e(n),e(t),e(a))}}}class Y extends _{constructor(n){super(),b(this,n,null,E,d,{})}}export{Y as component};
