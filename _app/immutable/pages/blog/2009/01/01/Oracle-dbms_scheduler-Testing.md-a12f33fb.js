import{S as _,i as b,s as y,l as u,u as T,a as A,m as k,p as r,v as R,h as t,c as w,q as h,b as c,F as N,n as l}from"../../../../../chunks/index-4d40d7b1.js";function f(i){let n,e,o,a,m=`<code class="language-plsql"><span class="token keyword">declare</span>
   l_start_date         <span class="token keyword">TIMESTAMP</span><span class="token punctuation">;</span>
   l_next_date          <span class="token keyword">TIMESTAMP</span><span class="token punctuation">;</span>
   l_return_date        <span class="token keyword">TIMESTAMP</span><span class="token punctuation">;</span>
   daily_6am            <span class="token keyword">CONSTANT</span> VARCHAR2<span class="token punctuation">(</span><span class="token number">4000</span><span class="token punctuation">)</span> <span class="token operator">:=</span> 'FREQ<span class="token operator">=</span>DAILY<span class="token punctuation">;</span> BYHOUR<span class="token operator">=</span><span class="token number">6</span>'<span class="token punctuation">;</span>
   weekdays_3am         <span class="token keyword">CONSTANT</span> VARCHAR2<span class="token punctuation">(</span><span class="token number">4000</span><span class="token punctuation">)</span> <span class="token operator">:=</span> 'FREQ<span class="token operator">=</span>DAILY<span class="token punctuation">;</span> BYDAY<span class="token operator">=</span>MON<span class="token punctuation">,</span>TUE<span class="token punctuation">,</span>WED<span class="token punctuation">,</span>THU<span class="token punctuation">,</span>FRI<span class="token punctuation">;</span> BYHOUR<span class="token operator">=</span><span class="token number">3</span>'<span class="token punctuation">;</span>
   hourly_25past        <span class="token keyword">CONSTANT</span> VARCHAR2<span class="token punctuation">(</span><span class="token number">4000</span><span class="token punctuation">)</span> <span class="token operator">:=</span> 'FREQ<span class="token operator">=</span>HOURLY<span class="token punctuation">;</span> BYMINUTE<span class="token operator">=</span><span class="token number">25</span>'<span class="token punctuation">;</span>
   workday_20mins       <span class="token keyword">CONSTANT</span> VARCHAR2<span class="token punctuation">(</span><span class="token number">4000</span><span class="token punctuation">)</span> <span class="token operator">:=</span> 'FREQ<span class="token operator">=</span>MINUTELY<span class="token punctuation">;</span> BYHOUR<span class="token operator">=</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token number">17</span><span class="token punctuation">;</span> <span class="token keyword">INTERVAL</span><span class="token operator">=</span><span class="token number">20</span>'<span class="token punctuation">;</span>
   lastSunofmonth315pm  <span class="token keyword">CONSTANT</span> VARCHAR2<span class="token punctuation">(</span><span class="token number">4000</span><span class="token punctuation">)</span> <span class="token operator">:=</span> 'FREQ<span class="token operator">=</span>MONTHLY<span class="token punctuation">;</span> BYDAY<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span>SUN<span class="token punctuation">;</span> BYHOUR<span class="token operator">=</span><span class="token number">15</span><span class="token punctuation">;</span> BYMINUTE<span class="token operator">=</span><span class="token number">15</span>'<span class="token punctuation">;</span>
   every5minutes        <span class="token keyword">CONSTANT</span> VARCHAR2<span class="token punctuation">(</span><span class="token number">4000</span><span class="token punctuation">)</span> <span class="token operator">:=</span> 'FREQ<span class="token operator">=</span>MINUTELY<span class="token punctuation">;</span> <span class="token keyword">INTERVAL</span><span class="token operator">=</span><span class="token number">5</span>'<span class="token punctuation">;</span>
   every5minsplus2      <span class="token keyword">CONSTANT</span> VARCHAR2<span class="token punctuation">(</span><span class="token number">4000</span><span class="token punctuation">)</span> <span class="token operator">:=</span> 'FREQ<span class="token operator">=</span>MINUTELY<span class="token punctuation">;</span> BYMINUTE<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">17</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">,</span><span class="token number">27</span><span class="token punctuation">,</span><span class="token number">32</span><span class="token punctuation">,</span><span class="token number">37</span><span class="token punctuation">,</span><span class="token number">42</span><span class="token punctuation">,</span><span class="token number">47</span><span class="token punctuation">,</span><span class="token number">52</span><span class="token punctuation">,</span><span class="token number">57</span>'<span class="token punctuation">;</span>

   l_calendar         VARCHAR2<span class="token punctuation">(</span><span class="token number">4000</span><span class="token punctuation">)</span> <span class="token operator">:=</span> every5minsplus2<span class="token punctuation">;</span>
<span class="token keyword">begin</span>
   l_start_date <span class="token operator">:=</span> trunc<span class="token punctuation">(</span>SYSTIMESTAMP<span class="token punctuation">)</span><span class="token punctuation">;</span>
   l_return_date <span class="token operator">:=</span> l_start_date<span class="token punctuation">;</span>
   <span class="token keyword">for</span> ctr <span class="token keyword">in</span> <span class="token number">1.</span><span class="token number">.100</span> <span class="token keyword">loop</span>
      dbms_scheduler<span class="token punctuation">.</span>evaluate_calendar_string <span class="token punctuation">(</span>l_calendar
                                              <span class="token punctuation">,</span>l_start_date
                                              <span class="token punctuation">,</span>l_return_date
                                              <span class="token punctuation">,</span>l_next_date<span class="token punctuation">)</span><span class="token punctuation">;</span>
      dbms_output<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span>'Next Run <span class="token keyword">on</span><span class="token operator">:</span> ' <span class="token operator">||</span>
          to_char<span class="token punctuation">(</span>l_next_date<span class="token punctuation">,</span>'<span class="token keyword">day</span> dd<span class="token operator">/</span>mm<span class="token operator">/</span>yyyy hh24<span class="token operator">:</span>mi<span class="token operator">:</span>ss'<span class="token punctuation">)</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
      l_return_date <span class="token operator">:=</span> l_next_date<span class="token punctuation">;</span>
   <span class="token keyword">end</span> <span class="token keyword">loop</span><span class="token punctuation">;</span>
<span class="token keyword">end</span><span class="token punctuation">;</span></code>`;return{c(){n=u("p"),e=T("I stole this script from somewhere, I forget where. I found it useful at the time for testing planned schedules for dbms_scheduler jobs."),o=A(),a=u("pre"),this.h()},l(s){n=k(s,"P",{});var p=r(n);e=R(p,"I stole this script from somewhere, I forget where. I found it useful at the time for testing planned schedules for dbms_scheduler jobs."),p.forEach(t),o=w(s),a=k(s,"PRE",{class:!0});var d=r(a);d.forEach(t),this.h()},h(){h(a,"class","language-plsql")},m(s,p){c(s,n,p),N(n,e),c(s,o,p),c(s,a,p),a.innerHTML=m},p:l,i:l,o:l,d(s){s&&t(n),s&&t(o),s&&t(a)}}}class I extends _{constructor(n){super(),b(this,n,null,f,y,{})}}export{I as default};
